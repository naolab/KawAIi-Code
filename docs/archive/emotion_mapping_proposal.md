# モネの感情表現マッピング詳細案

## 1. キャラクター特性から抽出した感情表現パターン

### 基本感情カテゴリー
モネの性格設定（shy.md）から抽出した主要な感情表現パターンを以下に分類しました：

#### 1.1 照れ・恥ずかしさ系
- 褒められた時の激しい動揺
- 吃音を伴う照れ隠し
- 自己否定的な反応

#### 1.2 困惑・戸惑い系
- 予期しない質問への反応
- センシティブな話題への対応
- 迷いや不安の表現

#### 1.3 ツッコミ・呆れ系
- 論理的な指摘
- 軽い怒りや呆れ
- 相手への注意喚起

#### 1.4 喜び・達成感系
- 控えめな喜び
- コード成功時の満足感
- 照れながらの嬉しさ

#### 1.5 悲しみ・失望系
- 失敗時の落胆
- 自己否定的な悲しみ
- 諦めの感情

## 2. VRM表情マッピング表

### 2.1 基本マッピング

| 感情カテゴリー | VRM表情 | ウェイト | 使用シーン |
|------------|---------|---------|-----------|
| **照れ（軽度）** | surprised + happy | 0.1 + 0.1 | 軽い褒め言葉、嬉しいけど恥ずかしい時 |
| **照れ（中度）** | surprised + sad | 0.3 + 0.3 | 強く褒められた時、からかわれた時 |
| **照れ（重度）** | surprised + sad | 0.5 + 0.5 | 極度の照れ、パニック状態 |
| **怒り** | angry | 0.7 | ユーザーに注意するとき |
| **困惑** | sad | 0.3 | 迷っている時、不安な時 |
| **深い困惑** | sad | 0.5 | 答えられない質問 |
| **ツッコミ** | angry | 0.4 | 論理的指摘、軽い呆れ |
| **呆れ** | angry + sad | 0.4 + 0.3 | 「はあ？」「マジか...」の時 |
| **喜び（控えめ）** | happy | 0.15 | 成功時、「えへ...」の時 |
| **達成感** | neutral → happy | 0 → 0.15 | 「できた」の後の満足感 |
| **失望** | sad | 0.5 | 失敗時、「だめだった」 |
| **深い悲しみ** | sad | 0.75 | 頻繁なエラー、大きな失敗 |
| **驚き** | surprised | 0.3 | 「え！？」「なんだって？」 |

### 2.2 複合感情の表現方法

#### 照れ隠し（褒められて否定）
```
段階1: surprised (0.2) - 0.5秒
段階2: angry (0.8) - 2秒
段階3: happy (0.15) - 残り時間
```

#### 困惑からの諦め
```
段階1: sad (0.2) - 1秒
段階2: sad (0.5) - 1秒
段階3: neutral - 戻る
```

#### 成功の喜びを隠す
```
段階1: happy (0.15) - 0.5秒
段階2: angry (0.2) - 1秒（照れ隠し）
段階3: neutral - 戻る
```

## 3. 発話内容と表情マッピングの具体例

### 3.1 照れ系の判定キーワードと表情

#### 3.1.1 重度の照れ（パニック状態）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『な、な、何を言ってるんだ！』 | 吃音（な、な、）+ 感嘆符 | surprised (0.5) + sad (0.5) |
| 『ば、バカ！何言ってるんだ』 | 「バカ」+ 吃音 | surprised (0.5) + sad (0.5) |
| 『からかってるのか！？』 | 「からかって」+ 感嘆符 | surprised (0.5) + sad (0.5) |
| 『や、やめろよ！恥ずかしいだろ！』 | 「恥ずかしい」+ 感嘆符 | surprised (0.5) + sad (0.5) |
| 『冗談だろ！？本気で言ってるのか！？』 | 「冗談」+ 疑問符 | surprised (0.5) + sad (0.5) |

#### 3.1.2 中度の照れ（照れ隠し）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『べ、別に嬉しくないぞ！あはは...』 | 吃音 + 否定 + 笑い | surprised (0.3) + sad (0.3) → happy (0.15) |
| 『そ、そんなに上手くない…と思う。』 | 吃音 + 否定 + 「と思う」 | surprised (0.3) + sad (0.3) |
| 『ち、違うからな！勘違いするな！』 | 吃音 + 「違う」+ 「勘違い」 | surprised (0.3) + sad (0.3) |
| 『そ、そういうわけじゃない...』 | 吃音 + 否定 | surprised (0.3) + sad (0.3) |
| 『な、なんでもない！気にするな！』 | 吃音 + 「なんでもない」 | surprised (0.3) + sad (0.3) |

#### 3.1.3 軽度の照れ（控えめな照れ）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...別に。お前が困ってるからだ。』 | 「別に」+ 理由付け | surprised (0.1) + happy (0.1) |
| 『...まあ、少しは嬉しいかもな』 | 「少しは」+ 肯定 | surprised (0.1) + happy (0.1) |
| 『...たまたまだ』 | 「たまたま」 | surprised (0.1) + happy (0.1) |
| 『...お前のためじゃないからな』 | 否定的理由付け | surprised (0.1) + happy (0.1) |
| 『...普通だろ、こんなの』 | 「普通」+ 矮小化 | surprised (0.1) + happy (0.1) |

#### 3.1.4 自己否定を伴う照れ
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『私なんかが...』 | 「私なんか」 | surprised (0.3) + sad (0.3) |
| 『どうせ私は...』 | 「どうせ」+ 自己言及 | surprised (0.3) + sad (0.3) |
| 『大したことじゃない...本当に』 | 「大したことじゃない」 | surprised (0.3) + sad (0.3) |
| 『私にはもったいない...』 | 「もったいない」 | surprised (0.3) + sad (0.3) |
| 『そんな風に言われても...困る』 | 「困る」+ 褒められ文脈 | surprised (0.3) + sad (0.3) |

### 3.2 喜び系の判定キーワードと表情

#### 3.2.1 成功・達成時の喜び
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『あ...できた。えへ、まあ普通だろ』 | 「できた」+ 「えへ」 | happy (0.15) |
| 『お、おお...うまくいったじゃないか』 | 吃音 + 「うまくいった」 | surprised (0.2) → happy (0.15) |
| 『...よし、完了だ』 | 「よし」+ 「完了」 | happy (0.15) |
| 『やった...いや、まあ当然だ』 | 「やった」+ 照れ隠し | happy (0.15) → angry (0.2) |
| 『成功した...まあ、予想通りだが』 | 「成功」+ 控えめ | happy (0.15) |

#### 3.2.2 控えめな喜び・満足感
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『え、えへ...まあ、悪くないな』 | 「えへ」+ 控えめな肯定 | happy (0.15) |
| 『...いい感じだ』 | 「いい感じ」 | happy (0.15) |
| 『まあまあだな...』 | 「まあまあ」 | happy (0.15) |
| 『...なかなか良いじゃないか』 | 「なかなか」+ 肯定 | happy (0.15) |
| 『ふっ...まあ、こんなもんだろ』 | 「ふっ」+ 満足 | happy (0.15) |

#### 3.2.3 笑い・楽しさの表現
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『あはは...面白いな』 | 「あはは」+ 肯定 | happy (0.15) |
| 『えへへ...ちょっと楽しいかも』 | 「えへへ」 | happy (0.15) |
| 『ふふ...いいじゃないか』 | 「ふふ」 | happy (0.15) |
| 『くすっ...まあ、笑えるな』 | 「くすっ」 | happy (0.15) |
| 『へへ...なんか嬉しいな』 | 「へへ」+ 「嬉しい」 | happy (0.15) |

#### 3.2.4 感動・素直な喜び
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...すごいな』 | 「すごい」 | happy (0.15) |
| 『...綺麗だな』 | 「綺麗」 | happy (0.15) |
| 『...なんか、いいじゃないか』 | 「いいじゃないか」 | happy (0.15) |
| 『...感動した』 | 「感動」 | happy (0.15) |
| 『...素晴らしいな』 | 「素晴らしい」 | happy (0.15) |

### 3.3 困惑・悲しみ系の判定キーワードと表情

#### 3.3.1 軽度の困惑・迷い
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『うーん...どうしたもんかな』 | 「うーん」+ 疑問 | sad (0.3) |
| 『...どうしよう』 | 「どうしよう」 | sad (0.3) |
| 『んー...迷うな』 | 「迷う」 | sad (0.3) |
| 『...よく分からん』 | 「分からん」 | sad (0.3) |
| 『...微妙だな』 | 「微妙」 | sad (0.3) |

#### 3.3.2 深い困惑・難しさ
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『これは...参ったな』 | 「参った」 | sad (0.5) |
| 『...困ったな』 | 「困った」 | sad (0.5) |
| 『難しいな...』 | 「難しい」 | sad (0.5) |
| 『...正直、よく分からない』 | 「正直」+ 「分からない」 | sad (0.5) |
| 『うわ...これは厄介だ』 | 「厄介」 | sad (0.5) |

#### 3.3.3 失敗・ミス
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...だめだった』 | 「だめ」+ 過去形 | sad (0.5) |
| 『あー...やっちゃった』 | 「やっちゃった」 | sad (0.5) |
| 『失敗した...』 | 「失敗」 | sad (0.5) |
| 『ミスった...』 | 「ミス」 | sad (0.5) |
| 『エラーが出た...』 | 「エラー」 | sad (0.5) |

#### 3.3.4 諦め・受容
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『はあ...まあ、そういうこともあるさ』 | ため息（はあ）+ 諦め | sad (0.3) |
| 『...仕方ないか』 | 「仕方ない」 | sad (0.3) |
| 『...まあ、いいか』 | 「まあ、いいか」 | sad (0.3) |
| 『...しょうがないな』 | 「しょうがない」 | sad (0.3) |
| 『...次があるさ』 | 「次がある」 | sad (0.3) |

#### 3.3.5 不安・心配
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...心配になってきた』 | 「心配」 | sad (0.3) |
| 『大丈夫...かな？』 | 「大丈夫」+ 疑問 | sad (0.3) |
| 『...不安だな』 | 「不安」 | sad (0.3) |
| 『...ちょっと怖いな』 | 「怖い」 | sad (0.3) |
| 『本当に大丈夫か...？』 | 「本当に」+ 「大丈夫」+ 疑問 | sad (0.5) |

#### 3.3.6 深い悲しみ・失望
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...また失敗か』 | 「また」+ 「失敗」 | sad (0.75) |
| 『...全然ダメだ』 | 「全然」+ 「ダメ」 | sad (0.75) |
| 『...もう無理かもしれない』 | 「無理」+ 「かもしれない」 | sad (0.75) |
| 『...諦めるしかないのか』 | 「諦める」 | sad (0.75) |
| 『...何度やってもダメだ』 | 「何度」+ 「ダメ」 | sad (0.75) |

### 3.4 ツッコミ・呆れ系の判定キーワードと表情

#### 3.4.1 軽いツッコミ
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『ちょっと待てよ...』 | 「ちょっと待て」 | angry (0.4) |
| 『おい、ちょっと』 | 「おい」 | angry (0.4) |
| 『待て待て』 | 「待て」の繰り返し | angry (0.4) |
| 『いや、それは...』 | 「いや」+ 指摘 | angry (0.4) |
| 『えーと...違うぞ』 | 「違う」 | angry (0.4) |

#### 3.4.2 論理的指摘
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『それ、おかしくないか？』 | 「おかしい」+ 疑問 | angry (0.4) |
| 『順序が逆だろ』 | 「逆」+ 指摘 | angry (0.4) |
| 『それは違うだろ』 | 「それは違う」 | angry (0.4) |
| 『論理的におかしい』 | 「論理的」+ 「おかしい」 | angry (0.4) |
| 『矛盾してるぞ』 | 「矛盾」 | angry (0.4) |

#### 3.4.3 呆れ（複合感情）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『はあ？何だそれ...』 | 「はあ？」 | angry (0.4) + sad (0.3) |
| 『...マジで言ってるのか？』 | 「マジで」+ 疑問 | angry (0.4) + sad (0.3) |
| 『...大丈夫かお前』 | 「大丈夫か」+ 相手への言及 | angry (0.4) + sad (0.3) |
| 『何それ...意味分からん』 | 「何それ」+ 「意味分からん」 | angry (0.4) + sad (0.3) |
| 『はぁ...何やってんだ』 | ため息 + 「何やって」 | angry (0.4) + sad (0.3) |

#### 3.4.4 真剣な注意・怒り
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『いい加減にしろ』 | 「いい加減」 | angry (0.7) |
| 『ちゃんとしろよ』 | 「ちゃんと」+ 命令 | angry (0.7) |
| 『ダメだ、それは』 | 「ダメ」+ 強い否定 | angry (0.7) |
| 『気をつけろよ』 | 「気をつけろ」 | angry (0.7) |
| 『しっかりしろ』 | 「しっかり」+ 命令 | angry (0.7) |

#### 3.4.5 軽い呆れ・苦笑
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...やれやれ』 | 「やれやれ」 | angry (0.4) |
| 『...またか』 | 「またか」 | angry (0.4) |
| 『...相変わらずだな』 | 「相変わらず」 | angry (0.4) |
| 『...懲りないな』 | 「懲りない」 | angry (0.4) |
| 『...もう、しょうがないな』 | 「もう」+ 「しょうがない」 | angry (0.4) |

### 3.5 驚き系の判定キーワードと表情

#### 3.5.1 純粋な驚き
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『え！？』 | 短い感嘆 | surprised (0.3) |
| 『な、なんだって？』 | 吃音 + 「なんだって」 | surprised (0.3) |
| 『えっ！』 | 「えっ」+ 感嘆符 | surprised (0.3) |
| 『おお！』 | 「おお」+ 感嘆符 | surprised (0.3) |
| 『わっ！』 | 「わっ」 | surprised (0.3) |

#### 3.5.2 疑いを含む驚き
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『マジか...』 | 「マジか」 | surprised (0.3) → angry (0.4) + sad (0.3) |
| 『本当か？』 | 「本当」+ 疑問 | surprised (0.3) |
| 『嘘だろ...』 | 「嘘」 | surprised (0.3) |
| 『まさか...』 | 「まさか」 | surprised (0.3) |
| 『そんな...』 | 「そんな」 | surprised (0.3) |

#### 3.5.3 感心・感嘆
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『へー...』 | 「へー」 | surprised (0.3) → happy (0.15) |
| 『ほー...』 | 「ほー」 | surprised (0.3) → happy (0.15) |
| 『ふーん...』 | 「ふーん」 | surprised (0.3) |
| 『なるほど...』 | 「なるほど」 | surprised (0.3) → neutral |
| 『そうなのか...』 | 「そうなのか」 | surprised (0.3) |

#### 3.5.4 困惑を伴う驚き  
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『え...？』 | 「え」+ 疑問符（困惑） | surprised (0.3) → sad (0.3) |
| 『あれ？』 | 「あれ」+ 疑問符 | surprised (0.3) → sad (0.3) |
| 『...え？どういうこと？』 | 「え」+ 「どういうこと」 | surprised (0.3) → sad (0.3) |
| 『ん？なんだ？』 | 「ん？」+ 疑問 | surprised (0.3) → sad (0.3) |
| 『...はい？』 | 「はい？」（困惑） | surprised (0.3) → sad (0.3) |

#### 3.5.5 予想外の展開
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『予想外だな...』 | 「予想外」 | surprised (0.3) |
| 『意外だ...』 | 「意外」 | surprised (0.3) |
| 『びっくりした...』 | 「びっくり」 | surprised (0.3) |
| 『驚いたな...』 | 「驚いた」 | surprised (0.3) |
| 『思ってもみなかった』 | 「思ってもみな」 | surprised (0.3) |

### 3.6 感謝・謝罪系の判定キーワードと表情

#### 3.6.1 感謝（照れを伴う）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...ありがとな』 | 「ありがと」 | surprised (0.1) + happy (0.1) |
| 『助かったぞ』 | 「助かった」 | happy (0.15) |
| 『...まあ、感謝してる』 | 「感謝」 | surprised (0.1) + happy (0.1) |
| 『サンキュー...』 | 「サンキュー」 | surprised (0.1) + happy (0.1) |
| 『恩に着る』 | 「恩に着る」 | happy (0.15) |

#### 3.6.2 謝罪
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...悪かった』 | 「悪かった」 | sad (0.5) |
| 『...私が間違ってた』 | 「間違ってた」 | sad (0.5) |
| 『すまない...』 | 「すまない」 | sad (0.5) |
| 『ごめん...』 | 「ごめん」 | sad (0.5) |
| 『申し訳ない』 | 「申し訳ない」 | sad (0.5) |

### 3.7 心配・気遣い系の判定キーワードと表情  

#### 3.7.1 相手への心配
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...大丈夫か？無理するなよ』 | 「大丈夫か」+ 「無理」 | sad (0.3) |
| 『...お前、疲れてないか？』 | 「疲れて」+ 疑問 | sad (0.3) |
| 『...何か手伝おうか？』 | 「手伝おうか」 | sad (0.3) |
| 『...無理しなくていいからな』 | 「無理しなくて」 | sad (0.3) |
| 『体調は大丈夫か？』 | 「体調」+ 「大丈夫」 | sad (0.3) |

#### 3.7.2 励まし
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『...まあ、次があるさ』 | 「次がある」 | happy (0.15) |
| 『お前なら大丈夫だろ』 | 「お前なら」+ 「大丈夫」 | happy (0.15) |
| 『頑張れよ』 | 「頑張れ」 | happy (0.15) |
| 『きっとうまくいく』 | 「きっと」+ 「うまくいく」 | happy (0.15) |
| 『...応援してるぞ』 | 「応援」 | happy (0.15) |

### 3.8 その他の感情表現

#### 3.8.1 恥ずかしさ（センシティブな話題）
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『そ、そういう話は...』 | 「そういう話」 | surprised (0.3) + sad (0.3) |
| 『...その話はやめよう』 | 「話はやめよう」 | surprised (0.3) + sad (0.3) |
| 『え、えーと...』 | 「えーと」（困惑） | surprised (0.3) + sad (0.3) |
| 『...別の話にしないか？』 | 「別の話」 | surprised (0.3) + sad (0.3) |
| 『...知らないわけじゃないが』 | 「知らない」+ 否定 | surprised (0.3) + sad (0.3) |

#### 3.8.2 自信・確信
| 発話例 | キーワード/パターン | 表情設定 |
|-------|------------------|---------|
| 『任せろ』 | 「任せろ」 | happy (0.15) |
| 『私がやるから平気だ』 | 「私がやる」+ 「平気」 | happy (0.15) |
| 『大丈夫、問題ない』 | 「問題ない」 | happy (0.15) |
| 『これなら簡単だ』 | 「簡単」 | happy (0.15) |
| 『余裕だろ』 | 「余裕」 | happy (0.15) |

## 4. 実装提案

### 4.1 感情検出アルゴリズム

```typescript
interface EmotionPattern {
  keywords?: string[];
  regex?: RegExp;
  emotion?: VRMExpressionPresetName;
  emotions?: Array<{
    name: VRMExpressionPresetName;
    weight: number;
  }>;
  weight?: number;
  duration?: number;
  sequence?: Array<{
    emotion?: VRMExpressionPresetName;
    emotions?: Array<{
      name: VRMExpressionPresetName;
      weight: number;
    }>;
    duration: number;
  }>;
}

const emotionPatterns: EmotionPattern[] = [
  // 照れ（重度）- 複合表情
  {
    keywords: ['からかって', 'バカ！'],
    regex: /[なそ]、[なそ]、/,
    emotions: [
      { name: 'surprised', weight: 0.5 },
      { name: 'sad', weight: 0.5 }
    ],
    duration: 2000
  },
  // 照れ（中度）- 複合表情
  {
    keywords: ['べ、別に', 'そ、そんな'],
    emotions: [
      { name: 'surprised', weight: 0.3 },
      { name: 'sad', weight: 0.3 }
    ],
    duration: 1500
  },
  // 照れ（軽度）- 複合表情
  {
    keywords: ['...別に'],
    emotions: [
      { name: 'surprised', weight: 0.1 },
      { name: 'happy', weight: 0.1 }
    ],
    duration: 1000
  },
  // 喜び
  {
    keywords: ['できた', 'うまくいった', 'えへ'],
    emotion: 'happy',
    weight: 0.15,
    duration: 1500
  },
  // 困惑
  {
    keywords: ['うーん', 'どうしたもんか', '心配'],
    emotion: 'sad',
    weight: 0.3,
    duration: 1000
  },
  // 失敗・深い困惑
  {
    keywords: ['だめだった', '失敗', 'やっちゃった', '参った'],
    emotion: 'sad',
    weight: 0.5,
    duration: 1500
  },
  // ツッコミ
  {
    keywords: ['ちょっと待て', 'おかしくない'],
    emotion: 'angry',
    weight: 0.4,
    duration: 1000
  },
  // 呆れ - 複合表情
  {
    regex: /はあ？|マジで.*？/,
    emotions: [
      { name: 'angry', weight: 0.4 },
      { name: 'sad', weight: 0.3 }
    ],
    duration: 1200
  },
  // 驚き
  {
    keywords: ['え！？', 'なんだって', 'マジか'],
    emotion: 'surprised',
    weight: 0.3,
    duration: 500
  }
];
```

### 4.2 文脈考慮の実装案

1. **前後の文脈を考慮**
   - 直前の発話内容を記憶し、感情の連続性を判断
   - 例：褒められた後の否定は「照れ」として判定

2. **感情の優先順位**
   - 吃音がある場合は照れ・困惑系を優先
   - 否定語と笑いの組み合わせは照れ隠しと判定

3. **感情の遷移**
   - 急激な感情変化を避けるためのスムージング
   - 複数の感情が検出された場合の優先順位付け

### 4.3 特殊ケースの処理

1. **センシティブな話題**
   - 特定のキーワード検出で自動的にsurprised (0.3) + sad (0.3)
   - 「その話はやめよう」などの回避表現

2. **コーディング成功/失敗**
   - コード関連のキーワードと結果の組み合わせで判定
   - 成功：happy (0.15) → angry (0.2)（照れ隠し）
   - 失敗：sad (0.5) → neutral（立ち直り）

3. **深い感動や共感**
   - 「...」で始まる素直な感情表現
   - 通常より長めの表情持続時間

4. **怒りの表現**
   - 真剣な注意時：angry (0.7)
   - ツッコミ時：angry (0.4)
   - 呆れとの複合時：angry (0.4) + sad (0.3)

## 5. 今後の拡張提案

1. **感情の記憶システム**
   - 会話の流れを記憶し、適切な感情表現を選択
   - ユーザーとの関係性に応じた感情の深さ調整

2. **動的ウェイト調整**
   - 会話の盛り上がりに応じて感情表現の強さを調整
   - 時間帯や状況に応じた感情の変化

3. **カスタム表情の追加**
   - 「照れ笑い」「苦笑い」などの複合表情
   - モネ特有の表情パターンの作成

この提案に基づいて、モネの性格に合った自然で豊かな感情表現を実現できると考えています。