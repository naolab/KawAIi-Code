# KawAIi Code - macOS配布ガイド

このドキュメントは、KawAIi Code（AI-Kawaii-Project）をmacOSユーザーに配布するための完全ガイドです。

---

## 1. 配布準備完了状況

### ✅ 完了した作業

#### 1.1 VRMビューワーの静的ファイル化
- Next.jsアプリケーションを静的ファイルとしてElectronアプリに完全統合
- 外部サーバー依存を削除し、file://プロトコル対応完了
- VRMキャラクター表示、アニメーション、LipSync機能が単体で動作

#### 1.2 Electronアプリケーションのパッケージング
- `electron-builder`による配布用パッケージ作成完了
- macOS用.appファイル、.dmgインストーラー生成可能
- アプリアイコン（KawAIi Codeロゴ）設定完了

#### 1.3 パフォーマンス最適化
- VRMキャラクターのフレームレート最適化（35fps）
- LipSyncサンプルレート半減によるCPU使用率削減
- 条件付きレンダリングとアニメーション処理間引きを実装

## 2. 配布手順

### 2.1 開発者向け：配布パッケージの作成

```bash
# 1. Next.jsアプリのビルド（すでに完了済み）
cd ai-kawaii-nextjs
npm run build

# 2. Electronアプリのパッケージング
cd ..
npm run pack    # 開発用テスト
npm run build   # DMGインストーラー作成
```

### 2.2 生成される配布ファイル

#### macOS向け
- `dist/KawAIi Code-1.0.0-arm64.dmg` - Apple Siliconディスク配布用
- `dist/KawAIi Code-1.0.0-arm64-mac.zip` - ZIPアーカイブ版
- `dist/mac-arm64/KawAIi Code.app` - アプリケーションバンドル

### 2.3 ユーザー向け：インストール手順

1. **DMGファイルのダウンロード**
   - `KawAIi Code-1.0.0-arm64.dmg`をダウンロード

2. **インストール**
   - DMGファイルをダブルクリックしてマウント
   - `KawAIi Code.app`をアプリケーションフォルダにドラッグ＆ドロップ

3. **起動**
   - アプリケーションフォルダから`KawAIi Code`を起動
   - 初回起動時にセキュリティ警告が出る場合は「開く」を選択

### 2.4 オプション機能（音声合成）

KawAIi Codeは音声合成機能を持っていますが、これを利用するには：

1. **AivisSpeech Engineのインストール**
   - [AivisSpeech公式サイト](https://aivis-project.com/)からダウンロード
   - ローカルサーバー（127.0.0.1:10101）で起動

2. **使用方法**
   - AivisSpeech Engine起動後、KawAIi Code上で音声機能が有効化
   - Claude Codeの応答が音声で読み上げられます

## 3. システム要件

### 3.1 macOS
- macOS 10.15 (Catalina) 以降
- Apple Silicon (M1/M2/M3) または Intel 64-bit
- 2GB以上の空きディスク容量
- 4GB以上のRAM推奨

### 3.2 追加要件（音声機能利用時）
- AivisSpeech Engine（別途インストール）
- ネットワーク接続（初回ダウンロード時）

---

## 4. トラブルシューティング

### 4.1 起動時の問題

**セキュリティ警告が表示される場合：**
1. システム環境設定 → セキュリティとプライバシー
2. 「このまま開く」をクリック
3. または：Control+クリックでコンテキストメニューから「開く」

**VRMキャラクターが表示されない場合：**
- アプリを完全に終了し、再起動してください
- macOSのセキュリティ設定でファイルアクセスが許可されているか確認

### 4.2 音声機能の問題

**音声が再生されない場合：**
1. AivisSpeech Engineが起動しているか確認
2. ポート10101が使用可能か確認
3. システムの音声出力設定を確認

### 4.3 パフォーマンスの問題

**動作が重い場合：**
- VRMキャラクターの設定でフレームレートは自動調整済み
- 他のアプリケーションを終了してメモリを確保
- Activity Monitorでシステムリソース使用状況を確認

---

## 5. アップデートとサポート

### 5.1 自動アップデート
- 現在は手動アップデートのみ対応
- 新バージョンは同じインストール手順で上書きインストール可能

### 5.2 フィードバック
- 問題報告やフィードバックはGitHubリポジトリのIssuesで受付
- 使用状況やパフォーマンス情報の収集は行いません（プライバシー重視）

---

このガイドにより、KawAIi CodeはmacOSユーザーに簡単に配布・利用できる状態になっています。配布準備が完了し、ユーザーは直感的なインストール手順でアプリケーションを利用開始できます。